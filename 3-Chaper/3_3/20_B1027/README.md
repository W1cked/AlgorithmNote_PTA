# B1027思路

## 归纳与观察

我们观察沙漏发现，图案可以由一个 **上三角** 和一个 **下三角** 构成。

- 当三角形只有1 个char时，底边长度为1

- 当三角形有 4 个char时，底边长度为3

- 当三角形有9 个char时，底边长度为5

- ……

- 我们设三角形的底边长度为x

- 由等差数列求和公式：
  $$
  总char数 = \frac{(1 + x)* (\frac {1 + x}{2})}{2} * 2 - 1
  $$

  $$
  即\ 总char数 = \frac{(1 + x)^2}{2} - 1
  $$

  -1 是减掉沙漏中间的共用char

  ×2 是沙漏由**两个**三角形组成

---

题目输入一个Number，我们构建起 Number 和 x 的映射关系，即找到一个函数表达式来描绘变量Number 和 x 的关系。

- 我们很容易发现：
  $$
  \frac{(1 + x)^2}{2} - 1 \leq Number
  $$
  整理一下我们有：
  $$
  x \leq \sqrt{2 (Number + 1)} - 1
  $$
  

---

## 基本流程

1. 输入一个变量 Number;

2. 设一个变量 MAXbottom, MAXbottom = (int)sqrt(2.0 * (Number + 1)) - 1;

3. 计算使用的char数: int used = (MAXbottom) * (MAXbottom) / 2 - 1;

4. 展示上三角(当前最大底边 <- MAXbottom; 当前最大底边 > 0; 当前最大底边 -= 2)

   - 输出空格

     (i <- 0; i < (MAXbottom - 当前最大底边) / 2; i++)

   - 输出图案

     (j <- 0; j < 当前最大底边; j++)

5. 展示下三角(当前最大底边 <- 3; 当前最大底边 <= MAXbottom; 当前最大底边 += 2)

   - 输出空格

     (i <- （MAXbottom - 当前最大底边); i > 0; i--)

     ~~正好与第四步输出空格的部分相反~~

   - 输出图案

     (j <- 0; j < 当前最大底边; j++)

---